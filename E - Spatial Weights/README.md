## Пространственные веса
Ссылка на курс "Геопространственный анализ данных":\
https://darribas.org/gds_course/content/home.html

Ссылка на книгу "Геопространственный анализ данных":\
https://geographicdata.science/book/intro.html

Часть E\
https://darribas.org/gds_course/content/bE/diy_E.html

### Данные:
Ссылка на данные\
https://www.oecd.org/cfe/regionaldevelopment/JPN.zip

### Описание проекта:
Изучить все тонкости одного из ключевых элементов пространственного анализа: матриц пространственных весов (структурированные наборы чисел, которые формализуют географические связи между наблюдениями в наборе данных).

### Задачи проекта:
#### Задание 1. Участки переписи наcеления Нью-Йорка
**Исходные данные:**\
Участки переписи населения Нью-Йорка.\
Участки переписи населения — это географические территории, которые Бюро переписи населения США использует для территорий с населением около 4000 человек. Мы будем использовать набор данных, подготовленный в рамках примеров библиотеки PySAL. Географически это набор полигонов, охватывающих всю площадь города Нью-Йорка.

**Задачи:**\
Исследовать непрерывные веса:
*   Создать матрицу пространственных весов соседства, используя принцип "ферзя" (queen);
*   Определить количество соседей Центрального парка, идентификатор которого 142;
*   Воспроизвести график масштабирования из предыдущего блока;
*   Создать блочную матрицу пространственных весов, в которой каждый участок соединен с другими участками в том же районе. Для этого необходимо использовать столбец 'borocode' таблицы NYC;
*   Сравнить количество соседей по переписному участку (тракту) для двух матриц весов. Какая из них больше? Почему?

#### Задание 2. Города Японии
**Исходные данные:**\
Набор данных о городских районах Японии, предоставленный ОЭСР.

**Задачи:**\
Сгенерировать матрицы пространственных весов на основе расстояния:
*   Сгенерировать матрицу пространственных весов соседства с пятью ближайшими соседями;
*   Сгенерировать матрицу пространственных весов соседства с диапазоном 100 км;
*   Сравнить эти два показателя с точки зрения среднего количества соседей. Какие основные различия вы можете заметить? В каких случаях, по вашему мнению, один критерий предпочтительнее другого?
*   Создать график с центром в Токио (найти строку в таблице с помощью поиска по запросу, на основе индекса) и и его соседями на основании полученных пространственных весов соседства с диапазоном 100 км, созданных выше:
   *   Создать контур буфера радиусом 100 км вокруг центроида Токио.
   *   Построить многоугольник городской территории Токио (jp_cities) и присвоить ему красный цвет;
   *   Добавить его соседей и присвоить им синий цвет;
   *   Добавить на карту их центроиды и присвоить им белый цвет;
   *   Добавить базовую карту (необязательно).

#### Задание 3. Пространственный лаг
**Исходные данные:**\
Датасет AHAH-индекс.\
Индекс доступа к здоровым активам и рискам (Access to Healthy Assets and Hazards (AHAH) index) — это оценка, которая ранжирует LSOA (статистическая единица Ливерпуля) в зависимости от близости окружающей среды, которая может быть положительной для здоровья и расценена как актив или отрицательной — как опасность. Полученное число дает нам представление о том, насколько «нездоровой» является среда LSOA. Чем выше балл, тем менее здоровой считается территория.

**Задачи:**
*   Создать пространственный лаг общей оценки и построить график Морана; и ответить на следующие вопросы:
  *   Существует ли какая-то общая закономерность?
  *   Что это значит?

### Инструменты: 
* Python
* Библиотеки Pandas, Geopandas, Numpy, Matplotlib.pyplot, Seaborn, Contextily, Pysal.lib, Pysal.viz, Libpysal.io, Esda

### Навыки:
* Визуализация данных
* Матрица пространственных весов соседства (принцип "ферзя", блочная матрица, метод k-ближайших соседей (KNN), диапазон расстояний)
* Стандартизация матрицы пространственных весов соседства
* Работа с векторными данными (преобразование полигонов в центроиды)
* Масштабирование карт
* Работа с проекциями
* Пространственный лаг
* Логорифмирование пространственного лага
* График Морана
* Общий индекс I Морана
* P-значение для общего индекса I Морана
* Анализ данных
